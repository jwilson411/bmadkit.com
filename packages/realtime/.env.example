# =============================================================================
# BMAD Platform - WebSocket Server Environment Configuration
# =============================================================================
# Copy this file to .env.local and update with your actual values

# WebSocket Server Configuration
WS_PORT=3002
WS_HOST=localhost
NODE_ENV=development

# CORS Configuration
WS_CORS_ORIGIN="http://localhost:3000,https://yourdomain.com"
WS_CORS_CREDENTIALS=true
WS_CORS_METHODS="GET,POST"

# Connection Management
WS_MAX_CONNECTIONS=1000
WS_CONNECTION_TIMEOUT=30000
WS_HEARTBEAT_INTERVAL=25000
WS_HEARTBEAT_TIMEOUT=5000

# Room Management
WS_MAX_ROOM_SIZE=10
WS_ROOM_CLEANUP_INTERVAL=300000
WS_MAX_ROOMS_PER_USER=5

# Redis Configuration (for WebSocket scaling)
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=
REDIS_DB=1
REDIS_ADAPTER_KEY="bmad:ws"

# Authentication
JWT_SECRET="your-super-secret-jwt-key-minimum-32-characters-long-for-security"
AUTH_TIMEOUT=10000

# Rate Limiting
WS_RATE_LIMIT_POINTS=100
WS_RATE_LIMIT_DURATION=60
WS_RATE_LIMIT_BLOCK_DURATION=300

# Message Configuration  
WS_MAX_MESSAGE_SIZE=65536
WS_MESSAGE_QUEUE_SIZE=1000
WS_BROADCAST_BATCH_SIZE=100

# Monitoring & Logging
LOG_LEVEL=debug
LOG_FORMAT=json
ENABLE_METRICS=true
METRICS_INTERVAL=30000

# Performance Configuration
WS_PING_TIMEOUT=60000
WS_PING_INTERVAL=25000
WS_UPGRADE_TIMEOUT=10000
WS_COMPRESSION=true

# Security Configuration
WS_TRUST_PROXY=false
WS_SECURE=false
WS_SAME_ORIGIN=false

# Session Configuration
SESSION_STORE_TTL=86400
SESSION_CLEANUP_INTERVAL=3600000

# Document Streaming Configuration
DOCUMENT_CHUNK_SIZE=1024
DOCUMENT_STREAM_TIMEOUT=5000
ENABLE_DOCUMENT_COMPRESSION=true

# Agent Status Configuration
AGENT_STATUS_BROADCAST_DELAY=1000
AGENT_HEARTBEAT_INTERVAL=10000

# Error Handling
ERROR_RETRY_ATTEMPTS=3
ERROR_RETRY_DELAY=1000
ENABLE_ERROR_BROADCASTING=true

# Development Features
ENABLE_DEBUG_EVENTS=false
ENABLE_CONNECTION_LOGGING=true
ENABLE_MESSAGE_LOGGING=false