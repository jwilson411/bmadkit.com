# =============================================================================
# BMAD Platform - Backend API Environment Configuration
# =============================================================================
# Copy this file to .env.local and update with your actual values

# Server Configuration
PORT=3001
HOST=localhost
API_BASE_URL=http://localhost:3001
NODE_ENV=development

# Database Configuration
DATABASE_URL="postgresql://bmad_user:your_password@localhost:5432/bmad_development"
DATABASE_POOL_SIZE=20
DATABASE_SSL_MODE=prefer

# Redis Configuration  
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=
REDIS_DB=0

# Security Configuration
JWT_SECRET="your-super-secret-jwt-key-minimum-32-characters-long-for-security"
JWT_EXPIRES_IN="24h"
JWT_REFRESH_EXPIRES_IN="7d"
SESSION_SECRET="your-session-secret-key-minimum-32-characters-long-for-security"
SESSION_MAX_AGE=86400000

# CORS & Security
CORS_ORIGIN="http://localhost:3000,https://yourdomain.com"
HELMET_ENABLED=true
TRUST_PROXY=false

# LLM Provider Configuration (Primary: OpenAI)
OPENAI_API_KEY="sk-your-openai-api-key-from-platform-openai-com"
OPENAI_BASE_URL="https://api.openai.com/v1"
OPENAI_MODEL="gpt-4-turbo-preview"
OPENAI_MAX_TOKENS=4000
OPENAI_TIMEOUT=30000

# LLM Provider Configuration (Fallback: Anthropic)  
ANTHROPIC_API_KEY="sk-ant-your-anthropic-api-key-from-console-anthropic-com"
ANTHROPIC_BASE_URL="https://api.anthropic.com"
ANTHROPIC_MODEL="claude-3-opus-20240229" 
ANTHROPIC_MAX_TOKENS=4000
ANTHROPIC_TIMEOUT=30000

# Payment Processing (Stripe)
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key-from-dashboard"
STRIPE_PUBLISHABLE_KEY="pk_test_your-stripe-publishable-key-from-dashboard"
STRIPE_WEBHOOK_SECRET="whsec_your-webhook-signing-secret-from-stripe"
STRIPE_PRICE_PREMIUM_MONTHLY="price_your-monthly-price-id-from-stripe-products"
STRIPE_PRICE_PREMIUM_YEARLY="price_your-yearly-price-id-from-stripe-products"

# Email Configuration (SMTP)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-gmail-app-password-16-characters"
FROM_EMAIL="noreply@bmad.com"
FROM_NAME="BMAD Platform"

# File Storage Configuration
UPLOAD_MAX_SIZE=10485760
ALLOWED_EXTENSIONS="pdf,docx,txt,md,json"
STATIC_FILES_PATH="./uploads"
CDN_BASE_URL="http://localhost:3001/static"

# Monitoring & Analytics (Optional)
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
DATADOG_API_KEY="your-datadog-api-key-from-app-datadoghq-com"
ANALYTICS_API_KEY="your-analytics-api-key"

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_FAILED_REQUESTS=true

# Circuit Breaker Configuration
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=30000
CIRCUIT_BREAKER_RESET_TIMEOUT=60000

# Export Service Configuration
EXPORT_SERVICE_URL="http://localhost:3002"
EXPORT_TIMEOUT=300000
MAX_EXPORT_SIZE=104857600

# Logging Configuration
LOG_LEVEL=debug
LOG_FORMAT=json
DISABLE_COLORS=false